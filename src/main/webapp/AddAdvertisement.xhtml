<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<f:view>
    <h:head>
        <title>Add New Advertisement</title>
    </h:head>
    <h:body>
        <f:event type="preRenderView" listener="#{advertisementBean.loadAddAdvertisementPage}" />
        <h:messages globalOnly="true" style="color: red; margin-bottom: 15px;" />

        <div class="container" style="max-width: 800px; margin: 0 auto; padding: 20px;">

            <h:form id="addAdvertisementForm">
                <div class="card">
                    <h2>Add New Advertisement</h2>
                    <p>Fill in the details below to create a new advertisement.</p>

                    <!-- Pet Information Section -->
                    <h3>Pet Information</h3>
                    <div class="grid ui-fluid">
                        <div class="col-12 md:col-6">
                            <p:outputLabel for="name" value="Pet Name" />
                            <p:inputText id="name" value="#{advertisementBean.pet.name}" placeholder="Enter pet name" required="true" requiredMessage="Pet name is required." />
                            <p:message for="name" />
                        </div>

                        <div class="col-12 md:col-6">
                            <p:outputLabel for="species" value="Species" />
                            <p:inputText id="species" value="#{advertisementBean.pet.species}" placeholder="Enter species" />
                        </div>

                        <div class="col-12 md:col-6">
                            <p:outputLabel for="breed" value="Breed" />
                            <p:inputText id="breed" value="#{advertisementBean.pet.breed}" placeholder="Enter breed" />
                        </div>

                        <div class="col-12 md:col-6">
                            <p:outputLabel for="age" value="Age (Years)" />
                            <p:inputText id="age" value="#{advertisementBean.pet.age}" type="number" placeholder="Enter age" />
                        </div>

                        <div class="col-12 md:col-6">
                            <p:outputLabel for="gender" value="Gender" />
                            <p:selectOneMenu id="gender" value="#{advertisementBean.pet.gender}">
                                <f:selectItem itemLabel="Select Gender" itemValue="" />
                                <f:selectItem itemLabel="Male" itemValue="MALE" />
                                <f:selectItem itemLabel="Female" itemValue="FEMALE" />
                            </p:selectOneMenu>
                        </div>

                        <div class="col-12 md:col-6">
                            <p:outputLabel for="price" value="Price (CHF)" />
                            <p:inputText id="price" value="#{advertisementBean.pet.price}" type="number" placeholder="Enter price" />
                        </div>

                        <div class="col-12 md:col-4">
                            <p:outputLabel for="neutered" value="Neutered" />
                            <p:selectBooleanCheckbox id="neutered" value="#{advertisementBean.pet.neutered}" />
                        </div>

                        <div class="col-12 md:col-4">
                            <p:outputLabel for="vaccinated" value="Vaccinated" />
                            <p:selectBooleanCheckbox id="vaccinated" value="#{advertisementBean.pet.vaccinated}" />
                        </div>
                    </div>

                    <!-- Location Information Section -->
                    <h3>Location Information</h3>
                    <div class="grid ui-fluid">
                        <div class="col-12 md:col-4">
                            <p:outputLabel for="town" value="Town" />
                            <p:inputText id="town" value="#{advertisementBean.location.town}" placeholder="Enter town" required="true" requiredMessage="Town is required." />
                            <p:message for="town" />
                        </div>

                        <div class="col-12 md:col-4">
                            <p:outputLabel for="postalCode" value="Postal Code" />
                            <p:inputText id="postalCode" value="#{advertisementBean.location.postalCode}" placeholder="Enter postal code" />
                        </div>

                        <div class="col-12 md:col-4">
                            <p:outputLabel for="address" value="Address" />
                            <p:inputText id="address" value="#{advertisementBean.location.address}" placeholder="Enter address" />
                        </div>
                    </div>

                    <!-- Compatibility Section -->
                    <h3>Compatibility</h3>
                    <div class="grid ui-fluid">
                        <div class="col-12 md:col-4">
                            <p:outputLabel for="compatibleWithKids" value="Compatible with Kids" />
                            <p:selectBooleanCheckbox id="compatibleWithKids" value="#{advertisementBean.pet.compatibleWithKids}" />
                        </div>

                        <div class="col-12 md:col-4">
                            <p:outputLabel for="compatibleWithFamilies" value="Compatible with Families" />
                            <p:selectBooleanCheckbox id="compatibleWithFamilies" value="#{advertisementBean.pet.compatibleWithFamilies}" />
                        </div>

                        <div class="col-12 md:col-4">
                            <p:outputLabel for="compatibleWithOtherAnimals" value="Compatible with Other Animals" />
                            <p:selectBooleanCheckbox id="compatibleWithOtherAnimals" value="#{advertisementBean.pet.compatibleWithOtherAnimals}" />
                        </div>
                    </div>

                    <!-- Image Upload Section -->
                    <h3>Image Upload</h3>
                    <div class="grid ui-fluid">
                        <div class="col-12">
                            <p:outputLabel for="imageUpload" value="Upload an Image" />
                            <p:fileUpload id="imageUpload" value="#{advertisementBean.image}" mode="simple" />
                        </div>
                    </div>

                    <!-- Submit and Cancel Buttons -->
                    <div class="grid ui-fluid">
                        <div class="col-12">
                            <p:commandButton value="Post Advertisement" action="#{advertisementBean.addAdvertisement}" update=":addAdvertisementForm :messages" styleClass="ui-button-success" />
                            <p:commandButton value="Cancel" onclick="window.location.href='getAllAdvertisements.xhtml';" styleClass="ui-button-danger" />
                        </div>
                    </div>
                </div>
            </h:form>

        </div>
    </h:body>
</f:view>
</html>
